<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

	<t t-name="univmobile_main_menu">
		<div class="container univmobile_main_menu">
			<div class="row">
				<div class="col-md-12 logged_in_as">
					<div class="ptb12">
						Logged in as: <t t-esc="app_data['user_name']"/>
					</div>
				</div>
			</div>
			<div class="row" id="menu_container">
				<t t-set="menus" t-value="app_data['menus']" />
				<t t-if="menus.length == 0">
					<div class="col-md-12 no_padding">
						<div class="oe_callout oe_callout_danger">
							<h4>Error</h4>
							<p>
								You must login as Fullday Passenger or Booker or PIC or Approver.
							</p>
						</div>
					</div>
				</t>
				<t t-if="menus.length > 0">
					<div class="col-md-12 no_padding">
						<ul>
							<t t-foreach="menus" t-as="menu">
								<li t-att-intent="menu['intent']">
									<a>
									<h1 class="no_margin"><span t-att-class="menu['icon']"></span></h1>
									<br/><span><t t-raw="menu['label']" /></span>
									</a>
								</li>
							</t>
						</ul>
					</div>
				</t>
			</div>
			<div class="row">
				<div class="col-md-12 mt16 mb16">
					<div class="text-center">In case of emergency, please contact:</div>
					<t t-foreach="app_data['homebases']" t-as="homebase_data">
						<div class="homebase text-center">Universal <t t-esc="homebase_data['name']"/>
							(<t t-esc="homebase_data['emergency_number']"/>)</div>
					</t>
				</div>
			</div>
		</div>
	</t>

	<t t-name="univmobile_chpwd">
		<form id="chpwd_form">
			<div class="plr12 ptb12">
				<div class="form-group">
					<label for="old_password">Old Password</label>
					<input type="password" id="old_password" class="form-control"/>
				</div>
				<div class="form-group">
					<label for="new_password">New Password</label>
					<input type="password" id="new_password" class="form-control"/>
				</div>
				<div class="form-group">
					<label for="new_password_retype">Retype New Password</label>
					<input type="password" id="new_password_retype" class="form-control"/>
				</div>
			</div>
			<hr />
			<div class="row no_margin ptb12">
				<div class="col-xs-12">
					<button type="button" form-submit="click" class="btn btn-success form-control">Change Password</button>
				</div>
			</div>

		</form>
	</t>

	<t t-name="univmobile_contract">
		<div class="container univmobile_contract">
			<t t-call="chjs_mobile_web_list" />
		</div>
	</t>

	<t t-name="univmobile_contract_list_row">
		<div class="row row_hoverable" intent="univmobile_intent_contract_detail" t-att-data-data_id="row.id">
			<div class="col-md-12 no_padding">
				<div class="card_padding list-row" style="pointer-events:none;">
					<t t-if="row.user_group == 'approver'">
						<t t-esc="row.name"/>
					</t>
					<t t-if="row.user_group != 'approver'">
						<div class="list_title">
							<b><t t-esc="row.name"/></b>-
							<t t-if="row.state == 'active'">
								<span class="green_text">
									<t t-esc="row.state_name"/>
								</span>
							</t>
							<t t-if="row.state != 'active'">
								<span class="red_text">
									<t t-esc="row.state_name"/>
								</span>
							</t>
						</div>
						<t t-esc="row.start_date"/> / <t t-esc="row.end_date"/><br></br>
						Service Type: <t t-esc="row.service_type"/><br></br>
					</t>
				</div>
			</div>
		</div>
	</t>

	<t t-name="univmobile_contract_detail_form">
		<div>
			<div class="row no_margin">
				<div class="col-md-12 card_padding">
					<h2 class="no_margin"><t t-esc="detail.name"/></h2>
				</div>
			</div>
			<div class="row no_margin">
				<div class="col-md-12 no_margin no_padding">
					<ul class="nav nav-tabs">
						<t t-if="detail.user_group == 'pic'">
							<li><a data-toggle="tab" href="#contract_detail_info">Info</a></li>
						</t>
						<t t-if="detail.service_type == 'By Order'">
							<li><a data-toggle="tab" href="#contract_detail_usage_control">Usage Control</a></li>
							<li><a data-toggle="tab" href="#contract_detail_quota_changes">Quota Changes <span id="contract_detail_quota_changes_notif" class="badge"></span></a></li>
						</t>
						<t t-if="detail.service_type == 'Shuttle'">
							<li><a data-toggle="tab" href="#contract_detail_shuttle">Shuttle</a></li>
						</t>
					</ul>
				</div>
			</div>
			<div class="row no_margin tab-content mt16">
				<t t-if="detail.user_group == 'pic'">
					<div id="contract_detail_info" class="tab-pane fade">
						<t t-call="univmobile_contract_detail_info" />
					</div>
				</t>
				<t t-if="detail.service_type == 'By Order'">
					<div id="contract_detail_usage_control" class="tab-pane fade"></div>
					<div id="contract_detail_quota_changes" class="tab-pane fade"></div>
				</t>
				<t t-if="detail.service_type == 'Shuttle'">
					<div id="contract_detail_shuttle" class="tab-pane fade"></div>
				</t>
			</div>
		</div>
	</t>

	<t t-name="univmobile_contract_detail_info">
		<div class="row no_margin">
			<div class="col-md-12 card_padding" style="padding-top: 0">
				<table class="table table-condensed">
					<tr>
						<td>Status</td>
						<td>:</td>
						<td class="title-case"><t t-esc="detail.state"/></td>
					</tr>
					<tr>
						<td>Period</td>
						<td>:</td>
						<td><t t-esc="detail.start_date"/> - <t t-esc="detail.end_date"/></td>
					</tr>
					<tr>
						<td>Service Type</td>
						<td>:</td>
						<td><t t-esc="detail.service_type"/></td>
					</tr>
					<t t-if="detail.service_type == 'By Order'">
						<tr>
							<td>Max Order Time</td>
							<td>:</td>
							<td><t t-esc="detail.by_order_minimum_minutes"/> minutes</td>
						</tr>
						<tr>
							<td>Max Delay</td>
							<td>:</td>
							<td><t t-esc="detail.max_delay_minutes"/> minutes</td>
						</tr>
					</t>
					<tr>
						<td>Max Start</td>
						<td>:</td>
						<td><t t-esc="detail.min_start_minutes"/> minutes</td>
					</tr>
				</table>
			</div>
		</div>
	</t>

	<t t-name="univmobile_contract_detail_usage_control_row">
		<div class="row row_hoverable no_margin">
			<div class="col-md-12 no_padding">
				<div class="card_padding list-row">
					<div>
						<span class="list_title" style="pointer-events:none;">
							<b><t t-esc="row.allocation_unit_name"/></b>
						</span>
						<span style="float: right">
							<t t-if="row.status == 'OK'">
								<span class="fa fa-check-circle" style="color:#009900;font-size:24pt"></span>
							</t>
							<t t-if="row.status != 'OK'">
								<span class="fa fa-minus-circle" style="color:#FF0000;font-size:24pt"></span>
							</t>
						</span>
					</div>
					<div>
						<t t-if="row.control_level != 'no_control'">
							<small>
								Quota changes requested <t t-esc="row.total_request_count"/> <t t-esc="row.plural"/> with total of <t t-esc="row.total_request_nominal_formatted"/><br/>
							</small>
							<br/>
						</t>
					</div>
					<t t-if="row.control_level != 'no_control'">
						<div id="current_usage_quota_progress" style="overflow:auto;">
							<t t-if="row.progress_exist == 'show'">
								<t t-if="row.status == 'OK'">
									<div class="progress-bar progress-bar-success" role="progressbar"
											t-attf-style='width:{{row.current_usage*100.0/row.red_limit}}%'>
										<span t-esc='row.current_usage'/>
									</div>
									<div class="progress-bar progress-bar-grey" role="progressbar"
											t-attf-style='width:{{100-(row.current_usage*100.0/row.red_limit)}}%'>
										<span t-esc='row.red_limit'/>
									</div>
								</t>
								<t t-if="row.status == 'Warning'">
									<div class="progress-bar progress-bar-warning" role="progressbar"
											t-attf-style='width:{{row.current_usage*100.0/row.red_limit}}%'>
										<span t-esc='row.current_usage'/>
									</div>
								</t>
								<t t-if="row.status == 'Overlimit'">
									<div class="progress-bar progress-bar-danger" role="progressbar"
											t-attf-style='width:{{100.0}}%'>
										<span t-esc='row.current_usage'/>
									</div>
								</t>
							</t>
							<t t-if="row.progress_exist == 'hide'">
								<div class="progress-bar progress-bar-grey" role="progressbar"
										t-attf-style='width:{{100}}%'>
									<span t-esc='100'/>
								</div>
							</t>
						</div>
						<div class="row mt16">
							<div class="col-xs-4 text-center">
								<strong>Usage</strong><br/><t t-esc="row.current_usage_formatted"/><br/> 
							</div>
							<div class="col-xs-4 text-center">
								<strong>Yellow Limit</strong><br/> <t t-esc="row.yellow_limit_formatted"/><br/> 
							</div>
							<div class="col-xs-4 text-center">
								<strong>Red Limit</strong><br/> <t t-esc="row.red_limit_formatted"/><br/> 
							</div>
						</div>
					</t>
					<t t-if="row.button_change_exist == 'show'">
						<div class="mt16 mb16"><hr/></div>
						<button class="btn btn-success form-control" intent="univmobile_intent_request_quota_change" t-att-data-data_id="row.id" t-attf-intent-data="{'au_id': {{row.au_id}}, 'contract_id': {{row.contract_id}}, 'yellow_limit': {{row.yellow_limit}}, 'red_limit': {{row.red_limit}}}">
							Request Quota Change
						</button>
					</t>
					<t t-if="row.button_change_exist != 'show'">
						<div class="mb16"></div>
					</t>
					<t t-set="i" t-value="i+1"/>
				</div>
			</div>
		</div>
	</t>

	<t t-name="univmobile_contract_detail_quota_changes_row">
		<div>
			<div class="row row_hoverable no_margin" data-toggle="collapse" t-att-data-target="'#detail_'+row.section">
				<div class="col-md-12 card_padding">
					<span><t t-esc="row.title"/></span>
				</div>
			</div>
			<div class="row collapse no_margin" t-att-id="'detail_'+row.section">
				<t t-if="row.data.length == 0">
					<div class="col-md-12 card_padding empty_data">
						<span>No data</span>
					</div>
				</t>
				<t t-if="row.data.length > 0">
					<t t-foreach="row.data" t-as="row_data">
						<div class="row text-right no_margin">
							<div class="col-xs-12 mt16 text-right title-case">
								<t t-esc="row_data.state" />
							</div>
						</div>
						<div class="card_padding list-row">
							<t t-if="row_data.yellow_limit_new > 0">
								<div class="form-section form-section-light">Yellow Limit</div>
								<div class="row mb16">
									<div class="col-xs-7">
										<label>Additional Requested</label><br/>
										<span class="larger"><span class="larger"><t t-esc="row_data.yellow_limit_formatted"/></span></span><br/>
										<t t-esc="row_data.request_type" />
									</div>
									<div class="col-xs-5">
										<label>Current Limit</label><br/>
										<p><t t-esc="row_data.yellow_limit_old"/></p>
										<label>New Limit</label><br/>
										<p><t t-esc="row_data.yellow_limit_final"/></p>
									</div>
								</div>
							</t>
							<t t-if="row_data.red_limit_new > 0">
								<div class="form-section form-section-light">Red Limit</div>
								<div class="row mb16">
									<div class="col-xs-7">
										<label>Additional Requested</label><br/>
										<span class="larger"><span class="larger"><t t-esc="row_data.red_limit_formatted"/></span></span><br/>
										<t t-esc="row_data.request_type" />
									</div>
									<div class="col-xs-5">
										<label>Current Limit</label><br/>
										<p><t t-esc="row_data.red_limit_old"/></p>
										<label>New Limit</label><br/>
										<p><t t-esc="row_data.red_limit_final"/></p>
									</div>
								</div>
							</t>
							<p class="mt16">
								<t t-esc="row_data.request_detail" />
								<t t-if="row_data.confirm_detail">
									<br/>
									<t t-esc="row_data.confirm_detail" />
								</t>
							</p>
							<t t-if="row_data.state == 'draft'">
								<t t-if="row_data.user_group == 'pic'">
									<div class="row">
										<div class="col-xs-6">
											<button class="btn btn-success form-control" intent="univmobile_intent_request_quota_approve" t-att-data-data_id="row_data.id">Approve</button>
										</div>
										<div class="col-xs-6">
											<button class="btn btn-success form-control" intent="univmobile_intent_request_quota_reject" t-att-data-data_id="row_data.id">Reject</button>
										</div>
									</div>
								</t>
							</t>
						</div>
					</t>
				</t>
			</div>
		</div>
	</t>

	<t t-name="univmobile_request_quota_change">
		<form id="request_quota_change_form">
			<div class="plr12 ptb12 btn-group btn-block" data-toggle="buttons">
				<label class="btn btn-info active" style="width: 50%">
					<input class="form-check-input" type="radio" name="request_longevity" id="longevity_month" checked="checked" value="temporary" />
					This Month Only
				</label>
				<label class="btn btn-info" style="width: 50%">
					<input class="form-check-input" type="radio" name="request_longevity" id="longevity_permanent" value="permanent" />
					Permanent
				</label>
			</div>
			<div class="form-section plr12 ptb12">Yellow Limit</div>
			<div class="plr12 ptb12">
				<div class="form-group">
					<label for="new_yellow_limit" class="col-form-label">Add Amount</label>
					<input type="number" id="new_yellow_limit" class="form-control text-right" />
				</div>
				<div class="row no_padding">
					<div class="form-group col-xs-6">
						<label class="col-form-label">Previous</label>
						<div class="form-control-static"><t t-esc="detail.yellow_limit_formatted" /></div>
						<input type="number" id="old_amount_yellow" t-att-value="detail.yellow_limit" style="display: none" />
					</div>
					<div class="form-group col-xs-6">
						<label class="col-form-label">New</label>
						<div class="form-control-static" id="new_amount_yellow"><t t-esc="detail.yellow_limit_formatted" /></div>
					</div>
				</div>
			</div>
			<div class="form-section plr12 ptb12">Red Limit</div>
			<div class="plr12 ptb12">
				<div class="form-group">
					<label for="new_red_limit" class="col-form-label">Add Amount</label>
					<input type="number" id="new_red_limit" class="form-control text-right" />
				</div>
				<div class="row">
					<div class="form-group col-xs-6">
						<label class="col-form-label">Previous</label>
						<div class="form-control-static"><t t-esc="detail.red_limit_formatted" /></div>
						<input type="number" id="old_amount_red" t-att-value="detail.red_limit" style="display: none" />
					</div>
					<div class="form-group col-xs-6">
						<label class="col-form-label">New</label>
						<div class="form-control-static" id="new_amount_red"><t t-esc="detail.red_limit_formatted" /></div>
					</div>
				</div>
			</div>
			<hr />
			<div class="row no_margin ptb12">
				<div class="col-xs-12">
					<button type="button" form-submit="click" class="form-control btn btn-success">Submit</button>
					<button type="button" class="form-control btn btn-secondary" data-dismiss="modal">Close</button>
				</div>
			</div>
			<input type="hidden" id="allocation_unit_id" t-att-value="detail.au_id" />
			<input type="hidden" id="customer_contract_id" t-att-value="detail.contract_id" />
		</form>
	</t>

	<t t-name="univmobile_request_quota_reject">
		<form id="request_quota_reject_form">
			<div class="plr12 ptb12">
				<div class="form-group">
					<label for="reject_reason">Reason</label>
					<textarea id="reject_reason" class="form-control" row="4"></textarea>
				</div>
			</div>
			<hr />
			<div class="row no_margin ptb12">
				<div class="col-xs-12">
					<button type="button" form-submit="click" class="btn btn-success form-control">Reject Request</button>
					<button type="button" class="form-control btn btn-secondary" data-dismiss="modal">Cancel</button>
				</div>
			</div>
			<input type="hidden" id="change_log_id" t-att-value="detail.data_id" />
		</form>
	</t>

	<t t-name="univmobile_shuttle">
		<div class="container univmobile_shuttle">
			<t t-call="chjs_mobile_web_list" />
		</div>
	</t>

	<t t-name="univmobile_shuttle_filter_form">
		<form>
			<div class="row">
				<div class="form-group col-md-12 mt16">
					<label for="list_shuttle_contract">Select Contract</label>
					<select id="list_shuttle_contract" class="form-control mb16"></select>
				</div>
			</div>
			<div class="mb16" />
		</form>
	</t>

	<t t-name="univmobile_shuttle_list_row">
		<div>
			<div class="row row_hoverable" data-toggle="collapse" t-att-data-target="'#detail_'+row.day">
				<div class="col-md-12 card_padding">
					<span><t t-esc="row.day"/></span>
				</div>
			</div>
			<div class="row collapse" t-att-id="'detail_'+row.day">
				<t t-if="row.day_value.length == 0">
					<div class="col-md-12 card_padding empty_data">
						<span>No data</span>
					</div>
				</t>
				<t t-if="row.day_value.length != 0">
					<t t-foreach="row.day_value" t-as="shuttle">
						<div class="col-md-12 no_padding">
							<div class="card_padding list-row">
								<div class="list_title">
									<b><t t-esc="shuttle.name"/></b>
								</div>
								Depart at <t t-esc="shuttle.departure_time"/><br/>
								<t t-esc="shuttle.assigned_vehicle_name"/> (<t t-esc="shuttle.assigned_driver_name"/>)
							</div>
						</div>
					</t>
				</t>				
			</div>
		</div>
	</t>

	<t t-name="univmobile_book_vehicle">
		<form id="book_vehicle_form">
			<div class="form-section plr12 ptb12">Information</div>
			<div class="plr12 ptb12">
				<div class="form-group col-xs-6">
					<label for="contract_id" class="col-form-label">Contract</label>
					<select id="contract_id" class="form-control">
						<t t-foreach="detail.contract_datas" t-as="contract">
							<t t-if="detail.order_data">
								<t t-if="detail.order_data.customer_contract_id == contract.id">
									<option t-attf-value="{{contract.id}}"><t t-esc="contract.name" selected = "selected"/></option>
								</t>
								<t t-if="detail.order_data.customer_contract_id != contract.id">
									<option t-attf-value="{{contract.id}}"><t t-esc="contract.name"/></option>
								</t>
							</t>
							<t t-if="detail.order_data == false">
								<option t-attf-value="{{contract.id}}"><t t-esc="contract.name"/></option>
							</t>
						</t>
					</select>
				</div>
				<div class="form-group col-xs-6">
					<label for="fleet_type_id" class="col-form-label">Vehicle</label>
					<select id="fleet_type_id" class="form-control">
						<t t-if="detail.contract_datas.length != 0">
							<t t-foreach="detail.contract_datas[0].fleet_type" t-as="vehicle">
								<option t-attf-value="{{vehicle.id}}"><t t-esc="vehicle.name"/></option>
							</t>
						</t>
					</select>
				</div>

				<t t-if="detail.user_group == 'booker' || detail.user_group == 'approver'">
					<div class="form-group col-xs-6">
						<label for="unit_id" class="col-form-label">Unit</label>
						<select id="unit_id" class="form-control">
							<t t-if="detail.contract_datas.length != 0">
								<t t-foreach="detail.contract_datas[0].units" t-as="unit">
									<option t-attf-value="{{unit.id}}"><t t-esc="unit.name"/></option>
								</t>
							</t>
						</select>
					</div>
					<div class="form-group col-xs-6">
						<label for="type_id" class="col-form-label">Type</label>
						<select id="type_id" class="form-control">
							<t t-foreach="detail.order_type" t-as="order_type">
								<option t-attf-value="{{order_type.id}}"><t t-esc="order_type.name"/></option>
							</t>
						</select>
					</div>
				</t>
			</div>

			<t t-if="detail.user_group == 'booker' || detail.user_group == 'approver'">
				<div class="form-section plr12 ptb12">Route</div>
				<div class="plr12 ptb12">
					<div class="form-group col-xs-6">
						<label for="book_vehicle_route_from" class="mb16">From</label>
						<div id="book_vehicle_route_from">
							<label class="no_bold" for="book_vehicle_route_from_district">District</label>
							<select id="book_vehicle_route_from_district" class="form-control mb16">
								<t t-if="detail.contract_datas.length != 0">
									<t t-foreach="detail.contract_datas[0].districts" t-as="from_district">
										<option t-attf-value="{{from_district.id}}"><t t-esc="from_district.name"/></option>
									</t>
								</t>
							</select>
							<label class="no_bold" for="from_area_id">Area</label>
							<select id="from_area_id" class="form-control mb16">
								<t t-if="detail.contract_datas.length != 0">
									<t t-if="detail.contract_datas[0].districts.length != 0">
										<t t-foreach="detail.contract_datas[0].districts[0].areas" t-as="from_area">
											<option t-attf-value="{{from_area.id}}"><t t-esc="from_area.name"/></option>
										</t>
	`								</t>
								</t>
							</select>
							<label class="no_bold" for="from_location">Location</label>
							<input id="from_location" class="form-control mb16" type="text"/>
						</div>
					</div>

					<div class="form-group col-xs-6">
						<label for="book_vehicle_route_to" class="mb16">To</label>
						<div id="book_vehicle_route_to">
							<label class="no_bold" for="to_city_id">City</label>
							<select id="to_city_id" class="form-control mb16">
								<t t-foreach="detail.route_to" t-as="city">
									<option t-attf-value="{{city.id}}"><t t-esc="city.name"/></option>
								</t>
							</select>
							<label class="no_bold" for="book_vehicle_route_to_district">District</label>
							<select id="book_vehicle_route_to_district" class="form-control mb16">
								<t t-if="detail.route_to.length != 0">
									<t t-foreach="detail.route_to[0].districts" t-as="to_district">
										<option t-attf-value="{{to_district.id}}"><t t-esc="to_district.name"/></option>
									</t>
								</t>
							</select>
							<label class="no_bold" for="to_area_id">Area</label>
							<select id="to_area_id" class="form-control mb16">
								<t t-if="detail.route_to.length != 0">
									<t t-if="detail.route_to[0].districts.length != 0">
										<t t-foreach="detail.route_to[0].districts[0].areas" t-as="to_area">
											<option t-attf-value="{{to_area.id}}"><t t-esc="to_area.name"/></option>
										</t>
									</t>
								</t>
							</select>
							<label class="no_bold" for="to_location">Location</label>
							<input id="to_location" class="form-control mb16" type="text"/>
						</div>
					</div>
				</div>

				<div class="form-section plr12 ptb12">Passenger</div>
				<div class="plr12 ptb12">
					<div class="form-group">
						<div class="col-md-12">
							<label class="no_bold"><input id="i_am_passenger" type="checkbox" name="passenger" value="1" checked="checked"> I am the passenger</input></label>
						</div>
					</div>
				</div>
				<div class="plr12 ptb12">
					<div class="col-md-12">
						<div class="form-group">
							<table id="passengers" class="table table-bordered table-striped table-highlight mb16">
								<thead>
									<th>Name</th>
									<th>Phone</th>
									<th style="padding: 0"><button id="btn_add_passenger" type="button" class="add btn form-control btn-success" aria-label="Add">
											<span aria-hidden="true" class="fa fa-plus"></span>
										</button></th>
								</thead>
								<tbody>
									<tr id="passenger_me">
										<td><input type="text" class="tbl_name form-control"  t-attf-value="{{detail.user.name}}" readonly="readonly"/></td>
										<t t-if="!detail.user.phone" >
											<td><input type="text" class="tbl_phone form-control"  t-attf-value="-" readonly="readonly"/></td>
										</t>
										<t t-if="detail.user.phone">
											<td><input type="text" class="tbl_phone form-control"  t-attf-value="{{detail.user.phone}}" readonly="readonly"/></td>
										</t>
										<td></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</t>

			<div class="form-section plr12 ptb12">Time</div>
			<div class="plr12 ptb12">
				<div class="form-group col-md-6">
					<label for="start_planned">Start Planned</label>
					<input id="start_planned" class="form-control" type="datetime-local" t-attf-value="{{detail.start_planned_date}}"/>
				</div>
				<div class="form-group col-md-6">
					<label for="finish_planned">Finish Planned</label>
					<input id="finish_planned" class="form-control" type="datetime-local" t-attf-value="{{detail.finish_planned_date}}"/>
				</div>
			</div>

			<hr />
			<div class="row no_margin ptb12">
				<div class="col-xs-12">
					<button type="button" form-submit="click" class="form-control btn btn-success">Create Order</button>
				</div>
			</div>
			<!--<input type="hidden" id="order_id" t-att-value="detail.id" />-->
		</form>
	</t>

	<t t-name="univmobile_order">
		<div class="container univmobile_order">
			<div class="scrollmenu row">
				<t t-if="user_group != 'fullday_passenger'">
					<div class="website_mobile_app_tab_pending_order">
						Pending
					</div>
				</t>
				<div class="website_mobile_app_tab_ready_order">
					Ready
				</div>
				<div class="website_mobile_app_tab_running_order">
					Running
				</div>
				<div class="website_mobile_app_tab_history_order">
					History
				</div>
			</div>
			<div class="list-container mb16"></div>
		</div>
	</t>

	<t t-name="univmobile_order_list_row">
		<t t-if="row.length == 0">
			<t t-call="chjs_mobile_web_list_nodata"/>
		</t>
		<t t-if="row.length != 0">
			<div t-foreach="row" t-as="order">
				<div class="row row_hoverable" intent="univmobile_intent_order_detail" t-att-data-data_id="order.id">
					<div class="col-md-12 card_padding list-row" style="pointer-events:none;">
						<div class="list_title" style="pointer-events:none;">
							<b><t t-esc="order.name"/></b> -
							<t t-if="order.state == 'new' || order.state == 'confirmed' || order.state ==  'ready' ||
							order.state == 'started' || order.state == 'start_confirmed' || order.state == 'resumed' ||
							 order.state == 'finished' || order.state == 'finish_confirmed'">
								<span class="green_text" style="font-size:medium;"><t t-esc="order.state_name"/></span>
							</t>
							<t t-if="order.state == 'rejected' || order.state == 'canceled'">
								<span class="red_text" style="font-size:medium;"><t t-esc="order.state_name"/></span>
							</t>
							<t t-if="order.state == 'paused'">
								<span class="orange_text" style="font-size:medium;"><t t-esc="order.state_name"/></span>
							</t>
						</div>
						Requested at: <b style="pointer-events:none;"><t t-esc="order.request_date"/></b>
						by <b style="pointer-events:none;"><t t-esc="order.order_by_name"/></b>
						<table class="table" style="pointer-events:none;">
							<t t-if="order.user_group == 'booker'">
								<t t-if="classification_value != 'pending'">
									<t t-if="order.pin">
										<tr>
											<td class="order_key">Pin</td>
											<td class="order_separator">:</td>
											<td class="order_value"><t t-esc="order.pin"/></td>
										</tr>
									</t>
								</t>
							</t>
							<tr>
								<td class="order_key">Time</td>
								<td class="order_separator">:</td>
								<td class="order_value"><t t-esc="order.start_planned_date"/> - <t t-esc="order.finish_planned_date"/></td>
							</tr>
							<t t-if="order.assigned_vehicle_name">
								<tr>
									<td class="order_key">Fleet</td>
									<td class="order_separator">:</td>
									<td class="order_value"><t t-esc="order.assigned_driver_name"/> - <t t-esc="order.assigned_vehicle_name"/></td>
								</tr>
							</t>
							<t t-if="order.origin_location">
								<tr>
									<td class="order_key">From</td>
									<td class="order_separator">:</td>
									<td class="order_value"><t t-esc="order.origin_location"/> (<t t-esc="order.origin_area_name"/>)</td>
								</tr>
							</t>
							<t t-if="order.dest_location">
								<tr>
									<td class="order_key">To</td>
									<td class="order_separator">:</td>
									<td class="order_value"><t t-esc="order.dest_location"/>  (<t t-esc="order.dest_area_name"/>)</td>
								</tr>
							</t>
						</table>
						<div class="div_order_button">
							<t t-if="order.user_group == 'approver'">
								<t t-if="order.state == 'new'">
									<t t-if="order.over_quota_status == 'warning'">
										<div class="red_text">
											Approving this order will lead to over quota by
											<t t-esc="order.order_usage"/>
											above <t t-esc="order.red_limit"/>
										</div>
									</t>
									<t t-if="order.over_quota_status != 'approval'">
									<button type="button" t-attf-id_order = "{{order.id}}" class="btn btn-success btn_approve_order col-md-1 col-xs-4">Approve</button>
									<button type="button" t-attf-id_order = "{{order.id}}" class="btn btn-danger btn_reject_order col-md-1 col-xs-4 ml10">Reject</button>
									</t>
									<t t-if="order.over_quota_status == 'approval'">
										<t t-if="order.maintained_by == 'customer'">
											<button type="button" t-attf-id_order = "{{order.id}}" class="btn btn-danger btn_reject_order col-md-1 col-xs-4 ml10">Reject</button>
											<button type="button" t-attf-id_au = "{{order.au_id}}" t-attf-id_contract = "{{order.contract_id}}"
													t-attf-yellow_limit = "{{order.yellow_limit}}" t-attf-red_limit = "{{order.red_limit}}"
													class="btn btn-success btn_add_quota col-md-1 col-xs-4 ml10">Add Quota</button>
											<div class="row dialog_request_quota" id="dialog_request_quota_container" style="width:0px;height:0px;"/>
										</t>
										<t t-if="order.maintained_by != 'customer'">
											<div class="red_text">
												Please contact PT Universal to add your quota
											</div>
										</t>
									</t>
								</t>
							</t>
						</div>
					</div>
				</div>
			</div>
		</t>
	</t>

	<t t-name="univmobile_order_detail">
		<form id="order_detail_form">
			<div class="modal_detail_order">
				<div class="modal-body">
					<div class="div_detail_order_button">
						<t t-if="detail.user_group != 'pic'">
							<t t-if="detail.classification_value == 'pending' || detail.classification_value == 'ready'">
								<button type="button" intent="univmobile_intent_change_start_planned_time" t-att-data-data_id="detail.id"
										class="btn btn-success btn_change_planned_start_time mt5">Change Planned Start Time</button>
								<button type="button" intent="univmobile_intent_edit_order" t-att-data-data_id="detail.id"
										class="btn btn-success btn_edit_order mt5">Edit Order</button>
								<button type="button" intent="univmobile_intent_cancel_order" t-att-data-data_id="detail.id"
										class="btn btn-danger btn_cancel_order mt5">Cancel Order</button>
							</t>
							<div id="change_planned_start_time"/>
							<div id="list_order_edit_order"/>
						</t>

					</div>
					<div class="order_name">
						<t t-esc="detail.name"/>
					</div>
					<table class="table table-striped ">
						<t t-if="detail.origin_location || detail.dest_location">
							<tr>
								<td colspan="2" class="header_detail_order">Route</td>
							</tr>
						</t>
						<t t-if="detail.origin_location">
							<tr>
								<td>From</td>
								<td><t t-esc="detail.origin_location"/> (<t t-esc="detail.origin_area_name"/>)</td>
							</tr>
						</t>
						<t t-if="detail.dest_location">
							<tr>
								<td>To</td>
								<td><t t-esc="detail.dest_location"/> (<t t-esc="detail.dest_area_name"/>)</td>
							</tr>
						</t>
						<t t-if="detail.service_type != 'full_day'">
							<!--<t t-if="detail.list_passenger.length != 0">-->
								<!--<tr>-->
									<!--<td colspan="2" class = "header_detail_order">Passenger</td>-->
								<!--</tr>-->
								<!--<t t-foreach="detail.list_passenger" t-as="passenger">-->
									<!--<tr>-->
										<!--<td>-->
											<!--<t t-esc="passenger.name"/>-->
										<!--</td>-->
										<!--<td>-->
											<!--<t t-if="passenger.phone"> <t t-esc="passenger.phone"/></t>-->
										<!--</td>-->
									<!--</tr>-->
								<!--</t>-->
							<!--</t>-->
						</t>
						<tr>
							<td colspan="2" class = "header_detail_order">Information</td>
						</tr>
						<tr>
							<td>Contract</td>
							<td><t t-esc="detail.contract_name"/></td>
						</tr>
						<t t-if="detail.service_type == 'by_order'">
							<tr>
								<td>Unit</td>
								<td><t t-esc="detail.au_name"/></td>
							</tr>
						</t>
						<tr>
							<td>Service Type</td>
							<td><t t-esc="detail.service_type_name"/></td>
						</tr>
						<t t-if="detail.type">
							<tr>
								<td>Type</td>
								<td><t t-esc="detail.type_name"/></td>
							</tr>
						</t>
						<tr>
							<td colspan="2" class = "header_detail_order">Status</td>
						</tr>
						<tr>
							<td>State</td>
							<td><t t-esc="detail.state_name"/></td>
						</tr>
						<tr>
							<td>Requested Date</td>
							<td><t t-esc="detail.request_date"/></td>
						</tr>
						<tr>
							<td>Request By</td>
							<td><t t-esc="detail.order_by_name"/></td>
						</tr>
					</table>
				</div>
			</div>
		</form>
	</t>

	<t t-name="univmobile_change_start_planned_time">
		<form id="change_start_planned_time_form">
			<div class="plr12 ptb12">
				<div class="form-group">
					<label for="change_order_start_planned_new">New Start Planned Time</label>
					<input id="change_order_start_planned_new" class="form-control" type="datetime-local"
							t-attf-value="{{detail.start_planned_date_format_input}}"/>
				</div>
			</div>
			<hr />
			<div class="row no_margin ptb12">
				<div class="col-xs-12">
					<button type="button" form-submit="click" class="btn btn-success form-control">Change Start Planned Time</button>
					<button type="button" class="form-control btn btn-secondary" data-dismiss="modal">Cancel</button>
				</div>
			</div>
			<input type="hidden" id="order_id" t-att-value="detail.id" />
		</form>
	</t>

	<!-- ==================================================================================== -->
<!-- ==================================================================================== -->
<!-- ==================================================================================== -->
<!-- Dari titik ini ke bawah adalah qweb template untuk versi lama -->

	<!-- BOOK VEHICLE / CREATE ORDER -->

	<t t-name="website_mobile_app_create_order">
		<div class="full_height container universal_website_mobile_app">
			<!-- Information -->
			<t t-call="website_mobile_app_create_order_information_basic"/>
			<t t-if="user_group == 'booker' || user_group == 'approver'">
				<t t-call="website_mobile_app_create_order_information_other"/>
			</t>
			<div class="mb16"></div>
			<!-- Route & Passenger -->
			<t t-if="user_group == 'booker' || user_group == 'approver'">
				<t t-call="website_mobile_app_create_order_route"/>
				<div class="mb16"></div>
				<t t-call="website_mobile_app_create_order_passenger"/>
				<div class="mb16"></div>
			</t>
			<!-- Time -->
			<t t-call="website_mobile_app_create_order_time"/>
			<div class="mb16"></div>
			<!-- Button -->
			<t t-if="create_mode">
				<div class="row">
					<div class="col-md-12">
						<button type="button" id="btn_create_order" class="btn btn-success form-control">Create Order</button>
					</div>
				</div>
			</t>
			<t t-if="create_mode == false">
				<div class="row">
					<div class="col-md-6">
						<button type="button" t-attf-id_order = "{{order_id}}" class="btn btn-success btn_save_edit_order form-control">Save</button>
					</div>
					<div class="col-md-6">
						<button type="button" t-attf-id_order = "{{order_id}}" class="btn btn-danger btn_cancel_edit_order form-control">Cancel</button>
					</div>
				</div>
			</t>
		</div>
	</t>

	<t t-name="website_mobile_app_create_order_information_basic">
		<div class="row mb16">
			<div class="col-md-12 form-section ptb12">Information</div>
		</div>
		<div class="row">
			<div class="form-group col-md-6">
				<label for="create_order_info_contract">Contract</label>
				<select id="create_order_info_contract" class="form-control">
					<t t-foreach="contract_datas" t-as="contract_data">
						<option t-attf-value="{{contract_data.id}}"><t t-esc="contract_data.name"/></option>
					</t>
				</select>
			</div>
			<div class="form-group col-md-6">
				<label for="create_order_info_fleet_type">Vehicle</label>
				<select id="create_order_info_fleet_type" class="form-control">
					<t t-foreach="fleet_type_datas" t-as="fleet_type_data">
						<option t-attf-value="{{fleet_type_data.id}}"><t t-esc="fleet_type_data.name"/></option>
					</t>
				</select>
			</div>
		</div>
	</t>

	<t t-name="website_mobile_app_create_order_information_other">
		<div class="row">
			<div class="form-group col-md-6">
				<label for="create_order_info_unit">Unit</label>
				<select id="create_order_info_unit" class="form-control">
					<t t-foreach="units" t-as="unit">
						<option t-attf-value="{{unit.id}}"><t t-esc="unit.name"/></option>
					</t>
				</select>
			</div>
			<div class="form-group col-md-6">
				<label for="create_order_info_type">Type</label>
				<select id="create_order_info_type" class="form-control">
					<t t-foreach="order_types" t-as="order_type">
						<option t-attf-value="{{order_type.id}}"><t t-esc="order_type.name"/></option>
					</t>
				</select>
			</div>
		</div>
	</t>

	<t t-name="website_mobile_app_create_order_route">
		<div class="row mb16">
			<div class="col-md-12 form-section ptb12">Route</div>
		</div>
		<div class="row">
			<div class="form-group col-md-6">
				<label for="create_order_route_from" class="mb16">From</label>
				<div id="create_order_route_from">
					<label class="no_bold" for="create_order_route_from_district">District</label>
					<select id="create_order_route_from_district" class="form-control mb16">
						<t t-foreach="from_districts" t-as="from_district">
							<option t-attf-value="{{from_district.id}}"><t t-esc="from_district.name"/></option>
						</t>
					</select>
					<label class="no_bold" for="create_order_route_from_area">Area</label>
					<select id="create_order_route_from_area" class="form-control mb16">
						<t t-foreach="from_areas" t-as="from_area">
							<option t-attf-value="{{from_area.id}}"><t t-esc="from_area.name"/></option>
						</t>
					</select>
					<label class="no_bold" for="create_order_route_from_location">Location</label>
					<input id="create_order_route_from_location" class="form-control mb16" type="text"/>
				</div>
			</div>
			<div class="form-group col-md-6">
				<label for="create_order_route_to" class="mb16">To</label>
				<div id="create_order_route_to">
					<label class="no_bold" for="create_order_route_to_city">City</label>
					<select id="create_order_route_to_city" class="form-control mb16">
						<t t-foreach="to_cities" t-as="city">
							<option t-attf-value="{{city.id}}"><t t-esc="city.name"/></option>
						</t>
					</select>
					<label class="no_bold" for="create_order_route_to_district">District</label>
					<select id="create_order_route_to_district" class="form-control mb16">
						<t t-foreach="to_districts" t-as="to_district">
							<option t-attf-value="{{to_district.id}}"><t t-esc="to_district.name"/></option>
						</t>
					</select>
					<label class="no_bold" for="create_order_route_to_area">Area</label>
					<select id="create_order_route_to_area" class="form-control mb16">
						<t t-foreach="to_areas" t-as="area">
							<option t-attf-value="{{area.id}}"><t t-esc="area.name"/></option>
						</t>
					</select>
					<label class="no_bold" for="create_order_route_to_location">Location</label>
					<input id="create_order_route_to_location" class="form-control mb16" type="text"/>
				</div>
			</div>
		</div>
	</t>

	<t t-name="website_mobile_app_create_order_passenger">
		<div class="row mb16">
			<div class="col-md-12 form-section ptb12">Passenger</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<label class="no_bold"><input id="ckb_i_am_passenger" type="checkbox" name="passenger" value="1"> I am the passenger</input></label>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<table id="passengers" class="table table-bordered table-striped table-highlight mb16">
					<thead>
						<th>Name</th>
						<th>Phone</th>
						<th style="padding: 0"><button id="btn_add_passenger" type="button" class="add btn form-control btn-success" aria-label="Add">
								<span aria-hidden="true" class="fa fa-plus"></span>
							</button></th>
					</thead>
					<tbody>
					</tbody>
				</table>
			</div>
		</div>
	</t>

	<t t-name="website_mobile_app_create_order_time">
		<div class="row mb16">
			<div class="col-md-12 form-section ptb12">Time</div>
		</div>
		<div class="row">
			<div class="form-group col-md-6">
				<label for="create_order_start_planned">Start Planned</label>
				<input id="create_order_start_planned" class="form-control" type="datetime-local" t-attf-value="{{start_planned_default}}"/>
			</div>
			<div class="form-group col-md-6">
				<label for="create_order_finish_planned">Finish Planned</label>
				<input id="create_order_finish_planned" class="form-control" type="datetime-local" t-attf-value="{{finish_planned_default}}"/>
			</div>
		</div>
	</t>

	<!-- LIST ORDER -->

	<t t-name="website_mobile_app_list_order">
		<t class="full_height container universal_website_mobile_app">
			<t t-call="website_mobile_app_tab_order"/>
			<div id="container_order_list"></div>
		</t>
	</t>
	
	<!-- TAB ORDER-->
	<t t-name="website_mobile_app_tab_order">
		<div class="row row_hoverable accordion">
			Filter
		</div>
		<div class="row accordion_detail">
			<div class="col-md-12">
				<div class="row">
					<div class="form-group col-md-12">
						<label for="filter_order_number">Order Number</label>
						<input class="form-control" list="filter_order_number_list" id="filter_order_number">
							<datalist id="filter_order_number_list" >
								<t t-foreach="order_names" t-as="order_name">
									<option t-attf-value="{{order_name}}"/>
								</t>
							</datalist>
						</input>
					</div>
				</div>
				<div class="row">
					<div class="form-group col-md-12">
						<label for="filter_booker">Booker</label>
						<input class="form-control" list="filter_booker_list" id="filter_booker">
							<datalist id="filter_booker_list" >
								<t t-foreach="order_bookers" t-as="order_booker">
									<option t-attf-value="{{order_booker}}"/>
								</t>
							</datalist>
						</input>
					</div>
				</div>
				<div class="row">
					<div class="form-group col-md-12">
						<label for="filter_driver">Driver</label>
						<input class="form-control" list="filter_driver_list" id="filter_driver">
							<datalist id="filter_driver_list" >
								<t t-foreach="order_drivers" t-as="order_driver">
									<option t-attf-value="{{order_driver}}"/>
								</t>
							</datalist>
						</input>
					</div>
				</div>
				<div class="row">
					<div class="form-group col-md-12">
						<label for="filter_vehicle">Vehicle</label>
						<input class="form-control" list="filter_vehicle_list" id="filter_vehicle">
							<datalist id="filter_vehicle_list">
								<t t-foreach="order_vehicles" t-as="order_vehicle">
									<option t-attf-value="{{order_vehicles}}"/>
								</t>
							</datalist>
						</input>
					</div>
				</div>
				<div class="row">
					<div class="form-group col-md-12">
						<div type="button" id="button_filter" class="btn btn-primary col-xs-12">Filter</div>
					</div>
				</div>
			</div>
		</div>
		<div class="scrollmenu row mt5">
			<t t-if="user_group != 'fullday_passenger'">
				<div id="website_mobile_app_tab_pending_order">
					Pending
				</div>
			</t>
			<div id="website_mobile_app_tab_ready_order">
				Ready
			</div>
			<div id="website_mobile_app_tab_running_order">
				Running
			</div>
			<div id="website_mobile_app_tab_history_order">
				History
			</div>
		</div>
	</t>
	
	<!-- ORDER LIST-->
	<t t-name="website_mobile_app_list_order_classification">
		<t t-if="order_datas.length == 0">
			<div class="col-md-12 empty_data">
				<h4>Data Kosong</h4>
			</div>
		</t>
		<t t-if="order_datas.length != 0">
			<div class="detail_container row" >
				<t t-set="i" t-value="0"/>
				<t t-foreach="order_datas" t-as="order">
					<div class="list_order clickable plr12" t-attf-index_order = "{{i}}" t-attf-classification_order = "{{classifications}}">
						<div class="list_title" style="pointer-events:none;">
							<b><t t-esc="order.name"/></b> -
							<t t-if="order.state == 'new' || order.state == 'confirmed' || order.state ==  'ready' ||
							order.state == 'started' || order.state == 'start_confirmed' || order.state == 'resumed' ||
							 order.state == 'finished' || order.state == 'finish_confirmed'">
								<span class="green_text" style="font-size:medium;"><t t-esc="order.state_name"/></span>
							</t>
							<t t-if="order.state == 'rejected' || order.state == 'canceled'">
								<span class="red_text" style="font-size:medium;"><t t-esc="order.state_name"/></span>
							</t>
							<t t-if="order.state == 'paused'">
								<span class="orange_text" style="font-size:medium;"><t t-esc="order.state_name"/></span>
							</t>
						</div>
						Requested at: <b style="pointer-events:none;"><t t-esc="order.request_date"/></b>
						by <b style="pointer-events:none;"><t t-esc="order.order_by_name"/></b>
						<table class="table" style="pointer-events:none;">
							<t t-if="user_group == 'booker'">
								<t t-if="classification_value != 'pending'">
									<t t-if="order.pin">
										<tr>
											<td class="order_key">Pin</td>
											<td class="order_separator">:</td>
											<td class="order_value"><t t-esc="order.pin"/></td>
										</tr>
									</t>
								</t>
							</t>
							<tr>
								<td class="order_key">Time</td>
								<td class="order_separator">:</td>
								<td class="order_value"><t t-esc="order.start_planned_date"/> - <t t-esc="order.finish_planned_date"/></td>
							</tr>
							<t t-if="order.assigned_vehicle_name">
								<tr>
									<td class="order_key">Fleet</td>
									<td class="order_separator">:</td>
									<td class="order_value"><t t-esc="order.assigned_driver_name"/> - <t t-esc="order.assigned_vehicle_name"/></td>
								</tr>
							</t>
							<t t-if="order.origin_location">
								<tr>
									<td class="order_key">From</td>
									<td class="order_separator">:</td>
									<td class="order_value"><t t-esc="order.origin_location"/> (<t t-esc="order.origin_area_name"/>)</td>
								</tr>
							</t>
							<t t-if="order.dest_location">
								<tr>
									<td class="order_key">To</td>
									<td class="order_separator">:</td>
									<td class="order_value"><t t-esc="order.dest_location"/>  (<t t-esc="order.dest_area_name"/>)</td>
								</tr>
							</t>
						</table>
						<div class="div_order_button">
							<t t-if="user_group == 'approver'">
								<t t-if="order.state == 'new'">
									<t t-if="order.over_quota_status == 'warning'">
										<div class="red_text">
											Approving this order will lead to over quota by
											<t t-esc="order.order_usage"/>
											above <t t-esc="order.red_limit"/>
										</div>
									</t>
									<t t-if="order.over_quota_status != 'approval'">
									<button type="button" t-attf-id_order = "{{order.id}}" class="btn btn-success btn_approve_order col-md-1 col-xs-4">Approve</button>
									<button type="button" t-attf-id_order = "{{order.id}}" class="btn btn-danger btn_reject_order col-md-1 col-xs-4 ml10">Reject</button>
									</t>
									<t t-if="order.over_quota_status == 'approval'">
										<t t-if="order.maintained_by == 'customer'">
											<button type="button" t-attf-id_order = "{{order.id}}" class="btn btn-danger btn_reject_order col-md-1 col-xs-4 ml10">Reject</button>
											<button type="button" t-attf-id_au = "{{order.au_id}}" t-attf-id_contract = "{{order.contract_id}}"
													t-attf-yellow_limit = "{{order.yellow_limit}}" t-attf-red_limit = "{{order.red_limit}}"
													class="btn btn-success btn_add_quota col-md-1 col-xs-4 ml10">Add Quota</button>
											<div class="row dialog_request_quota" id="dialog_request_quota_container" style="width:0px;height:0px;"/>
										</t>
										<t t-if="order.maintained_by != 'customer'">
											<div class="red_text">
												Please contact PT Universal to add your quota
											</div>
										</t>
									</t>
								</t>
							</t>
						</div>
					</div>
					<div id="dialog_order_detail_container" style="width:0px;height:0px;"/>
					<hr style="border:solid 1px; border-color:darkgrey; margin:0px;"/>
					<t t-set="i" t-value="i+1"/>
				</t>
			</div>
		</t>
	</t>
	
	<t t-name="dialog_change_planned_start_time">
		<div id="dialog_change_planned_start_time" class="modal">
		  <!-- Modal content -->
			<div class="modal_change_planned_start_time">
				<div class="modal-header">
					<span class="close_dialog">x</span>
					<div class = "list_title">
						Change Planned Start Time
					</div>
				</div>
				<div class="modal-body">
					<label for="change_order_start_planned_new">New Start Planned</label>
					<input id="change_order_start_planned_new" class="form-control" type="datetime-local" t-attf-value="{{planned_start_time_old}}"/>
					<div style="width:100%" align="right">
						<button type="button" t-attf-id_order = "{{order_id}}" class="btn btn-success btn_save_change_order mt16 ml10">Save</button>
						<button type="button" t-attf-id_order = "{{order_id}}" class="btn btn-danger btn_cancel_change_order mt16 ml10">Cancel</button>
					</div>
				</div>
			</div>
		</div>
	</t>

	<!--<t t-name="dialog_edit_order">-->
		<!--<div id="dialog_edit_order" class="modal">-->
		  <!--&lt;!&ndash; Modal content &ndash;&gt;-->
			<!--<div class="modal_edit_order">-->
				<!--<div class="modal-header">-->
					<!--<span class="close_dialog">x</span>-->
					<!--<div class = "list_title">-->
						<!--Edit Order-->
					<!--</div>-->
				<!--</div>-->
				<!--<div class="modal-body">-->
					<!--<t t-call="website_mobile_app_create_order"/>-->
					<!--<div style="width:100%" align="right">-->
						<!--<button type="button" t-attf-id_order = "{{order_id}}" class="btn btn-success btn_save_edit_order mt16 ml10">Save</button>-->
						<!--<button type="button" t-attf-id_order = "{{order_id}}" class="btn btn-danger btn_cancel_edit_order mt16 ml10">Cancel</button>-->
					<!--</div>-->
				<!--</div>-->
			<!--</div>-->
		<!--</div>-->
	<!--</t>-->

	<!-- CHANGE PASSWORD -->

	<t t-name="website_mobile_app_change_password">
		<div class="full_height container universal_website_mobile_app">
			<div class="mb16"></div>
			<div class="row">
				<div class="col-md-12">
					<label for="change_password_old">Old Password</label>
					<input type="password" id="change_password_old" class="form-control mb16"/>
					<label for="change_password_new">New Password</label>
					<input type="password" id="change_password_new" class="form-control mb16"/>
					<label for="change_password_retype">Retype New Password</label>
					<input type="password" id="change_password_retype" class="form-control mb16"/>
				</div>
			</div>
			<div class="mb16"></div>
			<div class="row">
				<div class="col-md-12">
					<button type="button" id="btn_change_password" class="btn btn-success form-control">Change Password</button>
				</div>
			</div>
		</div>
	</t>


	<!-- LIST SHUTTLE -->

	<t t-name="website_mobile_app_list_shuttle">
		<div class="full_height container universal_website_mobile_app">
			<div class="row accordion form-section">
				<div class="plr12 text-right">
					<button class="btn btn-default"><span class="fa fa-filter"></span></button>
				</div>
			</div>
			<div class="row accordion_detail" id="shuttle_filter_container">
				<form>
					<div class="form-group col-md-12 mt16">
						<label for="list_shuttle_contract">Select Contract</label>
						<select id="list_shuttle_contract" class="form-control mb16">
							<t t-foreach="contract_datas" t-as="contract_data">
								<t t-if="contract_data.service_type == 'Shuttle'">
									<option t-attf-value="{{contract_data.id}}"><t t-esc="contract_data.name"/></option>
								</t>
							</t>
						</select>
					</div>
				</form>
			</div>
			<div id="website_mobile_app_list_shuttle_schedules"></div>
			<div class="mb16"></div>
		</div>
	</t>

	<t t-name="website_mobile_app_list_shuttle_schedules">
		<t t-foreach="days" t-as="day">
			<div class="row row_hoverable accordion">
				<div class="col-md-12">
					<span><t t-esc="day"/></span>
				</div>
			</div>
			<div class="row accordion_detail">
				<t t-if="shuttle_datas[day_value].length == 0">
					<div class="col-md-12 empty_data">
						<h4>Data Kosong</h4>
					</div>
				</t>
				<t t-if="shuttle_datas[day_value].length != 0">
					<t t-foreach="shuttle_datas[day_value]" t-as="shuttle">
						<div class="col-md-12 no_padding">
							<div class="card_padding list-row">
								<div class="list_title">
									<b><t t-esc="shuttle.name"/></b>
								</div>
								Depart at <t t-esc="shuttle.departure_time"/><br/>
								<t t-esc="shuttle.assigned_vehicle_name"/> (<t t-esc="shuttle.assigned_driver_name"/>)
							</div>
						</div>
					</t>
				</t>				
			</div>
		</t>			
	</t>
	

	<!-- LIST CONTRACT -->

	<!--<t t-name="website_mobile_app_list_contract">-->
		<!--<t class="full_height container universal_website_mobile_app">-->
			<!--<t t-if="contract_datas.length == 0">-->
				<!--<div class="row">-->
					<!--<div class="col-md-12 empty_data">-->
						<!--<h4>Data Kosong</h4>-->
					<!--</div>-->
				<!--</div>-->
			<!--</t>-->
			<!--<t t-if="contract_datas.length != 0">-->
				<!--<t t-set="i" t-value="0"/>-->
				<!--<div class="row">-->
					<!--<t t-foreach="contract_datas" t-as="contract">-->
						<!--<div class="list_contract col-md-12 clickable contract_detail no_padding" t-attf-id_contract = "{{i}}">-->
							<!--<div class="card_padding list-row" style="pointer-events:none;">-->
								<!--<t t-if="user_group == 'approver'">-->
									<!--<t t-esc="contract.name"/>-->
								<!--</t>-->
								<!--<t t-if="user_group != 'approver'">-->
									<!--<div class="list_title">-->
										<!--<b><t t-esc="contract.name"/></b>- -->
										<!--<t t-if="contract.state == 'active'">-->
											<!--<span class="green_text">-->
												<!--<t t-esc="contract.state_name"/>-->
											<!--</span>-->
										<!--</t>-->
										<!--<t t-if="contract.state != 'active'">-->
											<!--<span class="red_text">-->
												<!--<t t-esc="contract.state_name"/>-->
											<!--</span>-->
										<!--</t>-->
									<!--</div>-->
									<!--<t t-esc="contract.start_date"/> / <t t-esc="contract.end_date"/><br></br>-->
									<!--Service Type: <t t-esc="contract.service_type"/><br></br>-->
								<!--</t>-->
							<!--</div>-->
							<!--<t t-set="i" t-value="i+1"/>-->
						<!--</t>-->
					<!--</div>-->
				<!--</t>-->
			<!--</t>-->
		<!--</div>-->
		<!--<div id="detail_contract_container"></div>-->
	<!--</t>-->

	<!-- DETAIL CONTRACT HEADER-->

	<t t-name="website_mobile_app_detail_contract">
		<div class="contract_detail" id="menu_detail_contract_container">
			<div class="row">
				<div class="col-md-12 no_padding">
					<h3 class="contract_detail plr12 no_margin ptb12">
						<b><t t-esc="contract_name"/></b>
					</h3>
				</div>
			</div>
			<div class="row">
				<div class="scrollmenu col-md-12 no_padding">
					<t t-if="user_group == 'pic'">
						<div id="website_mobile_app_menu_info_contract">
							Info
						</div>
					</t>
					<t t-if="contract_service_type == 'By Order'">
						<div id="website_mobile_app_menu_usage_control">
							Usage Control
						</div>
					</t>
					<t t-if="user_group == 'pic'">
						<t t-if="contract_service_type == 'By Order'">
							<div id="website_mobile_app_menu_quota_changes">
								Quota Changes
							</div>
						</t>
					</t>
					<t t-if="contract_service_type == 'Shuttle'" style = "border-left:1px solid; border-color:lightgray">
						<div class = "td_tab_order" id="website_mobile_app_menu_shuttle" style="display: inline-block;vertical-align:middle;">
							Shuttle
						</div>
					</t>
				</div>
			</div>
		</div>
		<div class="contract_detail" id="detail_contract_main_container"/>
	</t>

	<!-- DETAIL CONTRACT INFO-->
	<t t-name="website_mobile_app_detail_contract_info">
		<div class="row">
			<div class="col-md-12 contract_info mt16">
				<table class="table table-condensed">
					<tr>
						<td>Status</td>
						<td>:</td>
						<td><t t-esc="state"/></td>
					</tr>
					<tr>
						<td>Period</td>
						<td>:</td>
						<td><t t-esc="start_date"/> - <t t-esc="end_date"/></td>
					</tr>
					<tr>
						<td>Service Type</td>
						<td>:</td>
						<td><t t-esc="service_type"/></td>
					</tr>
					<tr>
						<td>Max Order Time</td>
						<td>:</td>
						<td><t t-esc="by_order_minimum_minutes"/></td>
					</tr>
					<tr>
						<td>Max Start</td>
						<td>:</td>
						<td><t t-esc="min_start_minutes"/></td>
					</tr>
					<tr>
						<td>Max Delay</td>
						<td>:</td>
						<td><t t-esc="max_delay_minutes"/></td>
					</tr>
				</table>
			</div>
		</div>
	</t>

	<!-- DETAIL CONTRACT LIST CONTROL USAGE-->

	<t t-name="website_mobile_app_list_control_usage">
		<t class="full_height container universal_website_mobile_app">
			<div class="row">
				<t t-if="quota_list.length == 0">
					<div class="col-md-12 empty_data">
						<h4>Data Kosong</h4>
					</div>
				</t>
				<t t-if="quota_list.length != 0">
					<t t-set="i" t-value="0"/>
					<t t-foreach="quota_list" t-as="quota">
						<div class="list_quota_usage clickable col-md-12 no_padding" t-attf-value="{{quota.id}}" t-attf-index_list_quota = "{{i}}" t-attf-au_name="{{quota.allocation_unit_name}}">
							<div class="card_padding list-row">
								<div>
									<span class="list_title" style="pointer-events:none;">
										<b><t t-esc="quota.allocation_unit_name"/></b>
									</span>
									<span style="float: right">
										<t t-if="quota.status == 'OK'">
											<span class="fa fa-check-circle" style="color:#009900;font-size:24pt"></span>
										</t>
										<t t-if="quota.status != 'OK'">
											<span class="fa fa-minus-circle" style="color:#FF0000;font-size:24pt"></span>
										</t>
									</span>
								</div>
								<div>
									<t t-if="quota.control_level != 'no_control'">
										<small>
											Quota changes requested <t t-esc="quota.total_request_count"/> <t t-esc="quota.plural"/> with total of <t t-esc="quota.total_request_nominal"/><br/>
										</small>
										<br/>
										Usage: <t t-esc="quota.current_usage"/><br/> 
									</t>
								</div>
								<t t-if="quota.control_level != 'no_control'">
									<div id="current_usage_quota_progress" style="overflow:auto;">
										<t t-if="progress_exist == 'show'">
											<t t-if="quota.status == 'OK'">
												<div class="progress-bar progress-bar-success" role="progressbar"
														t-attf-style='width:{{quota.current_usage*100.0/quota.red_limit}}%'>
													<span t-esc='quota.current_usage'/>
												</div>
												<div class="progress-bar progress-bar-grey" role="progressbar"
														t-attf-style='width:{{100-(quota.current_usage*100.0/quota.red_limit)}}%'>
													<span t-esc='quota.red_limit'/>
												</div>
											</t>
											<t t-if="quota.status == 'Warning'">
												<div class="progress-bar progress-bar-warning" role="progressbar"
														t-attf-style='width:{{quota.current_usage*100.0/quota.red_limit}}%'>
													<span t-esc='quota.current_usage'/>
												</div>
											</t>
											<t t-if="quota.status == 'Overlimit'">
												<div class="progress-bar progress-bar-danger" role="progressbar"
														t-attf-style='width:{{100.0}}%'>
													<span t-esc='quota.current_usage'/>
												</div>
											</t>
										</t>
										<t t-if="progress_exist == 'hide'">
											<div class="progress-bar progress-bar-grey" role="progressbar"
													t-attf-style='width:{{100}}%'>
												<span t-esc='100'/>
											</div>
										</t>
									</div>
								</t>
								<t t-if="button_change_exist == 'show'">
									<div class="mt16 mb16"><hr/></div>
									<button class="btn btn-success quota_btn_request_change_quota contract_usage_control form-control" t-attf-au_id="{{quota.au_id}}" t-attf-contract_id="{{quota.contract_id}}">
										Request Quota Change
									</button>
									<div id="dialog_request_quota_container" style="width:0px;height:0px;"></div>
								</t>
								<t t-if="button_change_exist != 'show'">
									<div class="mb16"></div>
								</t>
								<t t-set="i" t-value="i+1"/>
							</div>
						</div>
					</t>
				</t>
			</div>
		</t>
	</t>

	<t t-name="website_mobile_app_detail_control_usage">
		<div class="scrollmenu">
			<div id="website_mobile_app_tab_usage_control_information">
				Information
			</div>
			<div id="website_mobile_app_tab_usage_control_request_history">
				Limit Request History
			</div>
		</div>
		<div class = "usage_control_container"></div>
	</t>
	
	<!-- USAGE CONTROL INFORMATION -->
	<t t-name="website_mobile_app_usage_control_information">
		<table class="table">
			<tr>
				<td>Total Usage</td>
				<td>:</td>
				<td><t t-esc="total_usage"/></td>
			</tr>
			<tr>
				<td>Yellow Limit</td>
				<td>:</td>
				<td><t t-esc="yellow_limit"/></td>
			</tr>
			<tr>
				<td>Red Limit</td>
				<td>:</td>
				<td><t t-esc="red_limit"/></td>
			</tr>
			<tr>
				<td>Total Request Nominal</td>
				<td>:</td>
				<td><t t-esc="total_request_nominal"/></td>
			</tr>
			<tr>
				<td>Total Request Time</td>
				<td>:</td>
				<td><t t-esc="total_request_time"/></td>
			</tr>
		</table>
	</t>
	
	<!-- USAGE CONTROL LIMIT REQUEST HISTORY -->

	<t t-name="website_mobile_app_usage_control_request_history">
		<t t-foreach="classifications" t-as="classification">
			<div class="row row_hoverable accordion">
				<div class="col-md-12">
					<span><t t-esc="classification"/></span>
				</div>
			</div>
			<t t-if="limit_requests[classification_value].length == 0">
				<div class="detail_container accordion_detail" >
					<div class="col-md-12 empty_data">
						<h4>Data Kosong</h4>
					</div>
				</div>
			</t>
			<t t-if="limit_requests[classification_value].length != 0">
				<div class="detail_container accordion_detail" >
					<t t-foreach="limit_requests[classification_value]" t-as="limit_request">
						<div class="list_title">
							<b><t t-esc="limit_request.request_date"/></b>
						</div>
						<table class="table">
							<tr>
								<td>Request By</td>
								<td>:</td>
								<td><t t-esc="limit_request.request_by"/></td>
							</tr>
							<tr>
								<td>Request Type</td>
								<td>:</td>
								<td><t t-esc="limit_request.request_type"/></td>
							</tr>
							<tr>
								<td>Yellow Limit</td>
								<td>:</td>
								<td class="strike_through_text"><t t-esc="limit_request.yellow_limit_old"/></td>
							</tr>
							<tr>
								<td></td>
								<td></td>
								<td><t t-esc="limit_request.yellow_limit_new"/></td>
							</tr>
							<tr>
								<td>Red Limit</td>
								<td>:</td>
								<td class="strike_through_text"><t t-esc="limit_request.red_limit_old"/></td>
							</tr>
							<tr>
								<td></td>
								<td></td>
								<td><t t-esc="limit_request.red_limit_new"/></td>
							</tr>
							<t t-if="classification_value == 'history'">
								<tr>
									<td>Respond Date</td>
									<td>:</td>
									<td><t t-esc="limit_request.respond_date"/></td>
								</tr>
							</t>
							<tr>
								<td>Status</td>
								<td>:</td>
								<td><t t-esc="limit_request.state"/></td>
							</tr>
							<t t-if="classification_value != 'pending'">
								<tr>
									<td>Reason</td>
									<td>:</td>
									<td><t t-esc="limit_request.reason"/></td>
								</tr>
							</t>
						</table>
						<t t-if="classification_value == 'pending'">
							<t t-if="user_group == 'pic'">
								<div>
									<div type="button" t-attf-value="{{limit_request.id}}"
										class="limit_request_btn_approve btn btn-success col-md-1 col-xs-3 ml10">Approve</div>
									<div type="button" t-attf-value="{{limit_request.id}}"
										class="limit_request_btn_reject btn btn-danger col-md-1 col-xs-3 ml10">Reject</div>
								</div>
							</t>
						</t><br></br><br></br>
						<hr style="border:solid 1px; border-color:darkgrey; margin:0px;"/>
					</t>
				</div>
			</t>
		</t>
	</t>
	
	<!-- DETAIL CONTRACT QUOTA CHANGES -->

	<t t-name="website_mobile_app_detail_contract_quota_changes">
		<div class="contract_info" style="margin-top:2px;">
			<t t-foreach="classifications" t-as="classification">
				<div class="row row_hoverable accordion">
					<div class="col-md-12">
						<span><t t-esc="classification"/></span>
					</div>
				</div>
				<div class="row accordion_detail">
					<t t-if="quota_changes[classification_value].length == 0">
						<div class="col-md-12 empty_data">
							<h4>Data Kosong</h4>
						</div>
					</t>
					<t t-if="quota_changes[classification_value].length != 0">
						<div class="detail_container col-md-12" >
							<t t-foreach="quota_changes[classification_value]" t-as="quota_change">
								<div class="list_title">
									<b><t t-esc="quota_change.name"/></b>
								</div>
								<table class="table">
									<tr>
										<td>Request Date</td>
										<td>:</td>
										<td><t t-esc="quota_change.request_date"/></td>
									</tr>
									<tr>
										<td>Request By</td>
										<td>:</td>
										<td><t t-esc="quota_change.request_by"/></td>
									</tr>
									<tr>
										<td>Request Type</td>
										<td>:</td>
										<td><t t-esc="quota_change.request_type"/></td>
									</tr>
									<tr>
										<td>Yellow Limit</td>
										<td>:</td>
										<td class="strike_through_text"><t t-esc="quota_change.yellow_limit_old"/></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td><t t-esc="quota_change.yellow_limit_new"/></td>
									</tr>
									<tr>
										<td>Red Limit</td>
										<td>:</td>
										<td class="strike_through_text"><t t-esc="quota_change.red_limit_old"/></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td><t t-esc="quota_change.red_limit_new"/></td>
									</tr>
									<t t-if="classification_value == 'history'">
										<tr>
											<td>Respond Date</td>
											<td>:</td>
											<td><t t-esc="quota_change.respond_date"/></td>
										</tr>
									</t>
									<tr>
										<td>Status</td>
										<td>:</td>
										<td><t t-esc="quota_change.state"/></td>
									</tr>
									<tr>
										<td>Reason</td>
										<td>:</td>
										<td><t t-esc="quota_change.reason"/></td>
									</tr>
								</table>
								<t t-if="classification_value == 'pending'">
									<t t-if="user_group == 'pic'">
										<div>
											<div type="button" t-attf-value="{{quota_change.id}}"
												class="quota_change_btn_approve btn btn-success col-md-1 col-xs-3 ml10">Approve</div>
											<div type="button" t-attf-value="{{quota_change.id}}"
												class="quota_change_btn_reject btn btn-danger col-md-1 col-xs-3 ml10">Reject</div>
										</div>
									</t>
								</t><br></br><br></br>
								<hr style="border:solid 1px; border-color:darkgrey; margin:0px;"/>
							</t>
						</div>
					</t>					
				</div>
			</t>
		</div>
	</t>

	<!-- Dialog Req Change Quota -->
	<t t-name="dialog_request_change_quota">
		<div id="modalChangeQuota" class="modal">
		  <!-- Modal content -->
			<div class="modal_request_change_quota">
				<div class="modal-header">
         			<span class="glyphicon glyphicon-remove close_dialog"></span>
					<div class = "list_title">
						Request Quota Changes
					</div>
				</div>
				<div class="modal-body">
					<label class="radio-inline"><input type="radio" name="optradio" id = "longevity_month">This Month Only</input></label>
					<label class="radio-inline"><input type="radio" name="optradio" id = "longevity_permanent">Permanent</input></label>
					<div class = "list_title">
						Yellow Limit
					</div>
					<table class="table table-striped ">
						<tr>
							<td>Old</td>
							<td>:</td>
							<td align="right" id = "old_amount_yellow"><t t-esc="yellow_limit"/></td>
						</tr>
						<tr>
							<td>Add Amount</td>
							<td>:</td>
							<td align="right"><input type="number" class="form-control input-number" id="amount_yellow_dialog" style="border:none"> </input></td>
						</tr>
						<tr>
							<td>New</td>
							<td>:</td>
							<td align="right" id = "new_amount_yellow"></td>
						</tr>
					</table>
					<div class = "list_title">
						Red Limit
					</div>
					<table class="table table-striped ">
						<tr>
							<td>Old</td>
							<td>:</td>
							<td align="right" id = "old_amount_red"><t t-esc="red_limit"/></td>
						</tr>
						<tr>
							<td>Add Amount</td>
							<td>:</td>
							<td align="right"><input type="number" class="form-control input-number" id="amount_red_dialog" style="border:none"> </input></td>
						</tr>
						<tr>
							<td>New</td>
							<td>:</td>
							<td align="right" id = "new_amount_red"></td>
						</tr>
					</table>
					<div style="width:100%" align="right">
						<div type="button" class="dialog_quota_change_button_request btn btn-success">Request Changes</div>
					</div>
				</div>
			</div>
		</div>
	</t>

	<!-- Dialog Order Detail -->
	<t t-name="dialog_order_detail">
		<div id="modalOrderDetail" class="modal">
		  <!-- Modal content -->
			<div class="modal_detail_order">
				<div class="modal-header">
         			<span class="glyphicon glyphicon-remove close_dialog"></span>
					<div class = "list_title">
						<t t-esc="name"/>
					</div>
				</div>
				<div class="modal-body">
					<div class="div_detail_order_button">
						<t t-if="user_group != 'pic'">
							<t t-if="classification_value == 'pending' || classification_value == 'ready'">
								<button type="button" t-attf-id_order = "{{id}}" class="btn btn-success btn_change_planned_start_time mt5">Change Planned Start Time</button>
								<button type="button" t-attf-id_order = "{{id}}" class="btn btn-success btn_edit_order mt5">Edit Order</button>
								<button type="button" t-attf-id_order = "{{id}}" class="btn btn-danger btn_cancel_order mt5">Cancel Order</button>
							</t>
							<div id="change_planned_start_time"/>
							<div id="list_order_edit_order"/>
						</t>

					</div>
					<table class="table table-striped ">
						<t t-if="origin_location || dest_location">
							<tr>
								<td colspan="2" class="header_detail_order">Route</td>
							</tr>
						</t>
						<t t-if="origin_location">
							<tr>
								<td>From</td>
								<td><t t-esc="origin_location"/> (<t t-esc="origin_area_name"/>)</td>
							</tr>
						</t>
						<t t-if="dest_location">
							<tr>
								<td>To</td>
								<td><t t-esc="dest_location"/> (<t t-esc="dest_area_name"/>)</td>
							</tr>
						</t>
						<t t-if="service_type != 'full_day'">
							<t t-if="list_passenger.length != 0">
								<tr>
									<td colspan="2" class = "header_detail_order">Passenger</td>
								</tr>
								<t t-foreach="list_passenger" t-as="passenger">
									<tr>
										<td>
											<t t-esc="passenger.name"/>
										</td>
										<td>
											<t t-if="passenger.phone"> <t t-esc="passenger.phone"/></t>
										</td>
									</tr>
								</t>
							</t>
						</t>
						<tr>
							<td colspan="2" class = "header_detail_order">Information</td>
						</tr>
						<tr>
							<td>Contract</td>
							<td><t t-esc="contract_name"/></td>
						</tr>
						<t t-if="service_type == 'by_order'">
							<tr>
								<td>Unit</td>
								<td><t t-esc="au_name"/></td>
							</tr>
						</t>
						<tr>
							<td>Service Type</td>
							<td><t t-esc="service_type_name"/></td>
						</tr>
						<t t-if="type">
							<tr>
								<td>Type</td>
								<td><t t-esc="type_name"/></td>
							</tr>
						</t>
						<tr>
							<td colspan="2" class = "header_detail_order">Status</td>
						</tr>
						<tr>
							<td>State</td>
							<td><t t-esc="state_name"/></td>
						</tr>
						<tr>
							<td>Requested Date</td>
							<td><t t-esc="request_date"/></td>
						</tr>
						<tr>
							<td>Request By</td>
							<td><t t-esc="order_by_name"/></td>
						</tr>
					</table>
				</div>
			</div>
		</div>
	</t>
</templates>