<openerp>
	<data>

		<record model="ir.ui.view" id="view_expenses_form">
			<field name="name">hr.expense.expense.form</field>	
			<field name="model">hr.expense.expense</field>
			<field name="inherit_id" ref="hr_expense.view_expenses_form" />
			<field name="priority" eval="100" />
			<field name="arch" type="xml">
				<xpath expr="//button[@name='validate']" position="attributes"> 
					<attribute name="groups">universal.group_universal_admin_finance</attribute>
				</xpath>
				<xpath expr="//button[@name='refuse']" position="attributes"> 
					<attribute name="groups">universal.group_universal_admin_finance</attribute>
				</xpath>
				<xpath expr="//field[@name='name']" position="after">
					<field name="contract_id" />
					<field name="order_id" context="{'hide_cancel': True, 'hide_actual_time': True, 'hide_assigned': True, 'name_with_driver': True}" options="{'no_create': 1}" />
					<field name="source" />
				</xpath>
				<xpath expr="//page[@string='Accounting']" position="before">
					<page string="Proof of Payment">
						<field name="proof_of_payment" widget="image" />
					</page>
				</xpath>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_expenses_tree">
			<field name="name">hr.expense.expense.tree</field>	
			<field name="model">hr.expense.expense</field>
			<field name="inherit_id" ref="hr_expense.view_expenses_tree" />
			<field name="priority" eval="100" />
			<field name="arch" type="xml">
				<xpath expr="//tree" position="attributes">
					<attribute name="colors">blue:state == 'draft';#FF9900:state == 'confirm';black:state in ('accepted','done');gray:state == 'cancelled'</attribute>
				</xpath>
				<xpath expr="//field[@name='state']" position="after">
					<field name="source" />
					<field name="contract_id" string="Contract" />
				</xpath>
			</field>
		</record>

		<record model="ir.ui.view" id="view_hr_expense_filter">
			<field name="name">hr.expense.expense.filter</field>	
			<field name="model">hr.expense.expense</field>
			<field name="inherit_id" ref="hr_expense.view_hr_expense_filter" />
			<field name="priority" eval="100" />
			<field name="arch" type="xml">
				<xpath expr="//field[@name='name']" position="after">
					<field name="contract_id" />
				</xpath>
				<xpath expr="//field[@name='department_id']" position="after">
					<separator/>
					<group string="Input Source">
						<filter domain="[('source','=','manual')]" string="Manual Input" />
						<filter domain="[('source','=','app')]" string="App" />
					</group>
				</xpath>
			</field>
		</record>
		
		<record id="view_product_hr_expense_form" model="ir.ui.view">
			<field name="name">product.template.expense.form</field>
			<field name="model">product.template</field>
			<field name="priority">100</field>
			<field name="inherit_id" ref="product.product_template_form_view"/>
			<field name="arch" type="xml">
				<div name="options" position="inside">
					<div>
						<field name="is_trip_related"/>
						<label for="is_trip_related"/>
					</div>
				</div>
			</field>
		</record>

	</data>
</openerp>
