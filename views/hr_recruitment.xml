<openerp>
	<data>
		
		<!-- RECRUITMENT STAGE -->
		
		<record model="ir.ui.view" id="hr_recruitment_stage_form">
			<field name="name">hr.recruitment.stage.form</field>
			<field name="model">hr.recruitment.stage</field>
			<field name="inherit_id" ref="hr_recruitment.hr_recruitment_stage_form"/>
			<field name="arch" type="xml">
				<field name="fold" position="before">
					<field name="is_end" />
				</field>
			</field>
		</record>
		
		<record model="ir.ui.view" id="hr_recruitment_stage_list">
			<field name="name">hr.recruitment.stage.list</field>
			<field name="model">hr.recruitment.stage</field>
			<field name="inherit_id" ref="hr_recruitment.hr_recruitment_stage_tree"/>
			<field name="arch" type="xml">
				<field name="fold" position="before">
					<field name="is_end" />
				</field>
			</field>
		</record>
		
		<!-- JOB POSITION -->
		
		<record model="ir.ui.view" id="view_hr_job_form">
			<field name="name">view.hr.job.form</field>
			<field name="model">hr.job</field>
			<field name="inherit_id" ref="hr_recruitment_requirement.view_hr_job_form" />
			<field name="arch" type="xml">
				<xpath expr="//field[@name='requirements']" position="replace" />
				<xpath expr="//field[@name='description']" position="replace" />
				<xpath expr="//label[@for='description']" position="replace" />
				<xpath expr="//button[@name='%(hr_recruitment.action_hr_job_applications)d']" position="attributes">
					<attribute name="invisible">context.get('hide_recruitments') == 1</attribute>
				</xpath>
				<xpath expr="//button[@name='action_get_attachment_tree_view']" position="attributes">
					<attribute name="invisible">context.get('hide_recruitments') == 1</attribute>
				</xpath>
				<xpath expr="//group[@name='employee_data']" position="replace">
					<group>
						<field name="no_of_employee" string="Employees" />
						<field name="department_id" class="oe_inline"/>
					</group>
					<notebook>
						<page string="Recruitment">
							<group>
								<group>
									<field name="user_id" />
									<field name="requirements" class="oe_inline" widget="selection" />
									<field name="survey_id" class="oe_inline" widget="selection" />
								</group>
								<group>
									<field name="document_ref" />
									<field name="no_of_recruitment" groups="base.group_user" class="oe_inline" string="New Employees Expected" />
								</group>
							</group>
						</page>
						<page string="Job Description">
							<field name="description" />
						</page>
					</notebook>
				</xpath>
			</field>
		</record>
		
		<record model="ir.ui.view" id="view_hr_job_tree">
			<field name="name">view.hr.job.tree</field>
			<field name="model">hr.job</field>
			<field name="inherit_id" ref="hr.view_hr_job_tree" />
			<field name="arch" type="xml">
				<xpath expr="//field[@name='no_of_employee']" position="attributes">
					<attribute name="invisible">context.get('hide_recruitments') == 1</attribute>
				</xpath>
				<xpath expr="//field[@name='no_of_recruitment']" position="attributes">
					<attribute name="invisible">context.get('hide_recruitments') == 1</attribute>
				</xpath>
				<xpath expr="//field[@name='no_of_hired_employee']" position="attributes">
					<attribute name="invisible">context.get('hide_recruitments') == 1</attribute>
				</xpath>
				<xpath expr="//field[@name='expected_employees']" position="attributes">
					<attribute name="invisible">context.get('hide_recruitments') == 1</attribute>
				</xpath>
			</field>
		</record>
		
		<!-- APPLICANT -->

		<record model="ir.ui.view" id="hr_applicant_form">
			<field name="name">hr.applicant.form</field>
			<field name="model">hr.applicant</field>
			<field name="priority">10</field>
			<field name="inherit_id" ref="hr_recruitment_requirement.hr_applicant_form"/>
			<field name="arch" type="xml">
				<xpath expr="//button[@name='action_get_attachment_tree_view']" position="after">
					<button name="action_approve_applicant" 
						class="oe_stat_button"
						icon="fa-check"
						type="object"
						help="Approve applicant to continue to next stage"
						attrs="{'invisible':[('is_pending','=',False)]}"
						confirm="Are you sure to approve this pending applicant to continue to next step?">
						<div>Approve<br/>Applicant</div>
					</button>
					<button name="action_refuse_applicant" 
						class="oe_stat_button"
						icon="fa-ban"
						type="object"
						help="Refuse applicant">
						<div>Refuse<br/>Applicant</div>
					</button>
				</xpath>
				<xpath expr="//separator[@string='Application Summary']" position="replace" />
				<xpath expr="//group[@string='Required Documents']" position="replace" />
				<xpath expr="//group[@string='Required Tests']" position="replace" />
				<xpath expr="//field[@name='categ_ids']" position="replace" />
				<xpath expr="//field[@name='email_from']" position="replace" />
				<xpath expr="//field[@name='partner_phone']" position="replace" />
				<xpath expr="//field[@name='partner_mobile']" position="replace" />
				<xpath expr="//field[@name='type_id']" position="replace" />
				<xpath expr="//sheet/group" position="replace" />
				<xpath expr="//field[@name='description']" position="replace">
					<field name="is_pending" invisible="1" />
					<notebook>
						<page string="Application">
							<group string="Job Application">
								<group>
									<field name="survey" invisible="1"/>
									<field name="response_id" invisible="1"/>
									<field name="job_id" />
									<field name="department_id" />
									<field name="company_id" widget="selection" invisible="1" />
									<field name="user_id" context="{'default_groups_ref': ['base.group_user', 'base.group_partner_manager', 'base.group_hr_manager']}"/>
									<field name="categ_ids" widget="many2many_tags" />
								</group>
								<group>
									<field name="priority" widget="priority"/>
									<field name="source_id" widget="selection" />
									<field name="reference" />
									<field name="emp_id" readonly="1" />
								</group>
							</group>
							<group string="Salary">
								<group>
									<label for="salary_expected"/>
									<div>
										<field name="salary_expected" class="oe_inline"/>
										<br />
										<span class="oe_inline" attrs="{'invisible':[('salary_expected_extra','=',False)]}"> + </span>
										<field name="salary_expected_extra" class="oe_inline" placeholder="Extra advantages..."/>
									</div>
								</group>
								<group>
									<label for="salary_proposed"/>
									<div>
										<field name="salary_proposed" class="oe_inline" />
										<br />
										<span class="oe_inline" attrs="{'invisible':[('salary_proposed_extra','=',False)]}"> + </span>
										<field name="salary_proposed_extra" class="oe_inline" placeholder="Extra advantages..."/>
									</div>
								</group>
							</group>
						</page>
						<page string="Biodata">
							<group>
								<group string="Personal Info">
									<field name="identification_id" />
									<field name="gender" class="oe_inline" />
									<field name="place_of_birth" />
									<field name="date_of_birth" />
									<field name="religion" class="oe_inline" />
									<field name="type_id" />
									<field name="npwp" />
								</group>
								<group string="Family">
									<field name="family_card_number" />
									<field name="marital_status" class="oe_inline" />
									<field name="no_of_children" />
									<field name="spouse_name" attrs="{'required':[('marital_status','=','married')]}" />
								</group>
								<group string="Contactable">
									<field name="family_contact_name" />
									<field name="family_contactable_address" />
									<field name="family_contactable_phone" />
									<field name="family_contactable_relationship" class="oe_inline" />
								</group>
							</group>
						</page>
						<page string="Driver">
							<group>
								<group>
									<field name="driver_license_number" />
									<field name="driver_license_date" />
									<field name="overtime_ready" />
									<field name="holiday_ready" />
								</group>
								<group>
									<field name="driver_area" />
									<field name="language" />
									<field name="transportation" />
									<field name="residence_location" />
								</group>
							</group>
						</page>
						<page string="Contact">
							<group>
								<group string="Mobile">
									<field name="partner_mobile" string="Mobile 1" />
									<field name="partner_mobile2" />
									<field name="partner_mobile3" />
								</group>
								<group string="Email">
									<field name="email_from" />
								</group>
								<group string="Residential Address">
									<field name="residential_address" string="Address" />
									<field name="residential_phone" string="Phone" />
								</group>
								<group string="Current Address">
									<field name="partner_address" string="Address" />
									<field name="partner_phone" string="Phone" />
								</group>
							</group>
						</page>
						<page string="Documents">
							<group>
								<field name="hr_applicant_document_lines" nolabel="1">
									<tree name="Documents" editable="bottom" create="false" delete="false">
										<field name="document_id" />
										<field name="is_mandatory" />
										<field name="stage_id" /> 
										<field name="date_checked" />
										<field name="checked_by" />
										<field name="notes" />
									</tree>
								</field>
							</group>
						</page>
						<page string="Entry Tests">
							<group>
								<field name="hr_applicant_test_lines" nolabel="1">
									<tree name="Tests" editable="bottom" create="false" delete="false">
										<field name="test_id" />
										<field name="is_mandatory" />
										<field name="stage_id" /> 
										<field name="date_performed" />
										<field name="checked_by" />
										<field name="results" />
									</tree>
								</field>
							</group>
						</page>
						<page string="Refusal">
							<group>
								<group>
									<field name="refused_date" />
									<field name="refused_by" />
									<field name="refused_reason" readonly="1" />
								</group>
								<group>
									<field name="is_blacklist" readonly="1" />
									<field name="blacklist_reason" readonly="1" />
								</group>
							</group>
						</page>
						<page string="Notes">
							<field name="description" />
						</page>
					</notebook>
				</xpath>
			</field>
		</record>
		
		<record model="ir.ui.view" id="hr_applicant_refusal_form">
			<field name="name">hr.applicant.refusal.form</field>
			<field name="model">hr.applicant</field>
			<field name="priority">15</field>
			<field name="arch" type="xml">
				<form version="7.0" string="Applicant Refusal">
					<group>
						<field name="name" string="Applicant Name" readonly="1" />
						<field name="refused_reason" required="1" />
						<field name="is_blacklist" />
						<field name="blacklist_reason" attrs="{'invisible': [('is_blacklist','=',False)], 'required': [('is_blacklist','=',True)]}" />
					</group>
					<footer>
						<button string="Refuse Applicant" name="action_refuse_applicant_save" type="object" class="oe_highlight" />
						or
						<button string="Cancel" special="cancel" class="oe_link" />
					</footer>
					<field name="id" invisible="1" />
				</form>
			</field>
		</record>
		
		<record id="universal_check_duplicate" model="ir.ui.view">
			<field name="name">universal.check_duplicate</field>
			<field name="model">universal.check.duplicate.memory</field>
			<field name="arch" type="xml">
				<form string="Check Duplicate" no_save="1">
					<group>
						<field name="check_duplicate_lines" nolabel="1">
							<tree string="Param Check Duplicate" editable="bottom">
								<field name="param_seq" />
								<field name="param_name" />
								<field name="param_value" />
							</tree>
						</field>
					</group>
					<button name="action_check_duplicate" string="Check" type="object" class="oe_edit_only" />
				</form>
			</field>
		</record>

		<record id="universal_check_duplicate_result_form" model="ir.ui.view">
			<field name="name">universal.check.duplicate.result.form</field>
			<field name="model">universal.check.duplicate.result</field>
			<field name="arch" type="xml">
				<form string="Check Duplicate Result">
					<field name="has_duplicates" invisible="1" />
					<group attrs="{'invisible': [('has_duplicates','=',True)]}">
						<div colspan="4">
							No duplicate detected. This applicant seems to be new.
							<br/>
							<br/>
						</div>
					</group>
					<group attrs="{'invisible': [('has_duplicates','=',False)]}">
						<div colspan="4">
							Duplicates detected. Here are those who the system deems duplicate:
							<br/>
							<br/>
						</div>
						<field name="duplicate_employee_line">
							<tree version="7.0">
								<field name="employee_id" />
							</tree>
						</field>
						<field name="duplicate_applicant_line">
							<tree version="7.0">
								<field name="applicant_id" />
							</tree>
						</field>
					</group>
					<footer>
						<button special="cancel" string="Close" />
					</footer>
				</form>
			</field>
		</record>
		
	</data>
</openerp>